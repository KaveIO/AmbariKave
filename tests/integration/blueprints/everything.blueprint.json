{
  "configurations" : [
    {
      "ganglia-env" : {
        "additional_clusters" : " ",
        "ganglia_runtime_dir" : "/var/run/ganglia/hdp",
        "gmetad_user" : "nobody",
        "gmond_user" : "nobody",
        "rrdcached_base_dir" : "/var/lib/ganglia/rrds",
        "rrdcached_delay" : "1800",
        "rrdcached_flush_timeout" : "7200",
        "rrdcached_timeout" : "3600",
        "rrdcached_write_threads" : "4"
      }
    },
    {
      "nagios-env" : {
        "nagios_group" : "nagios",
        "nagios_user" : "nagios",
        "nagios_web_login" : "admin",
        "nagios_web_password" : "admin",
        "nagios_contact" : "test@test.com"
      }
    },
    { "kavelanding" : {
        "AMBARI_ADMIN" : "admin",
        "AMBARI_ADMIN_PASS" : "admin",
        "AMBARI_SERVER" : "ambari"
    	}
    },
    { "core-site" : {
        "hadoop.proxyuser.hue.hosts"  : "*",
        "hadoop.proxyuser.hue.groups" : "*",
        "hadoop.proxyuser.hcat.groups": "*",
        "hadoop.proxyuser.hcat.hosts" : "*"
        }
    },
    { "webhcat-site" : {
        "webhcat.proxyuser.hue.hosts"  : "*",
        "webhcat.proxyuser.hue.groups" : "*"
        }
    },
    { "oozie-site" : {
        "oozie.service.ProxyUserService.proxyuser.hue.hosts"  : "*",
        "oozie.service.ProxyUserService.proxyuser.hue.groups" : "*"
        }
    },
    { "hdfs-site" : {
        "dfs.webhdfs.enabled" : "true"
        }
    },
    { "hive-site" : {
        "hive.heapsize" : "1024",
        "javax.jdo.option.ConnectionPassword" : "admin"
        }
    },
    { "freeipa": {
        "ldap_bind_password": "bla12345",
        "directory_password": "bla12345"
        }
    },
    { "stormsd" : { "nimbus.host" : "nimbus.kave.io", "storm.zookeeper.servers" : "nimbus.kave.io" }  }
  ],
  "host_groups" : [
    {
      "name" : "admin",
      "configurations" : [ ],
      "components" : [
        { "name" : "AMBARI_SERVER"   },
        { "name" : "GANGLIA_SERVER"  },
        { "name" : "NAGIOS_SERVER"   },
        { "name" : "GANGLIA_MONITOR" },
        { "name" : "FREEIPA_SERVER"  }
      ],
      "cardinality" : "1"
    },
    {
      "name" : "web",
      "configurations" : [ ],
      "components" : [
        { "name" : "APACHE_WEB_MASTER" },
        { "name" : "TWIKI_SERVER"  },
        { "name" : "GANGLIA_MONITOR" }
      ],
      "cardinality" : "0-10"
    },
    {
      "name" : "gateway",
      "configurations" : [
        { "kavelanding" : { "AMBARI_ADMIN" : "admin", "AMBARI_ADMIN_PASS" : "admin", "AMBARI_SERVER" : "ambari" } }
      ],
      "components" : [
        { "name" : "KAVETOOLBOXGATE"  },
        { "name" : "KAVELANDING"      },
        { "name" : "GANGLIA_MONITOR"  }
      ],
      "cardinality" : "0-10"
    },
    {
      "name" : "jboss",
      "configurations" : [ ],
      "components" : [
        { "name" : "JBOSS_APP_SERVER" },
        { "name" : "POSTFIX_SERVER"   },
        { "name" : "DOVECOT_SERVER"   },
        { "name" : "GANGLIA_MONITOR"  }
      ],
      "cardinality" : "0-10"
    },
    {
      "name" : "mongodb",
      "configurations" : [ ],
      "components" : [
        { "name" : "MONGODB_MASTER"  },
        { "name" : "GANGLIA_MONITOR" }
      ],
      "cardinality" : "0-10"
    },
    {
      "name" : "devel",
      "configurations" : [ {"gitlab" : {"gitlab_port":"8899"}} ],
      "components" : [
        { "name" : "GITLAB_SERVER"   },
        { "name" : "JENKINS_MASTER"   },
        { "name" : "ARCHIVA_SERVER"   },
        { "name" : "GANGLIA_MONITOR" },
        { "name" : "KAVETOOLBOXNODE"  }
      ],
      "cardinality" : "0-10"
    },
    {
      "name":"namenode-1",
      "components" : [
        { "name" : "NAMENODE"             },
        { "name" : "GANGLIA_MONITOR"      },
        { "name" : "ZOOKEEPER_SERVER"     },
        { "name" : "RESOURCEMANAGER"      },
        { "name" : "APP_TIMELINE_SERVER"  },
        { "name" : "KAVETOOLBOXNODE"      },
        { "name" : "HISTORYSERVER"        },
        { "name" : "PIG"                  },
        { "name" : "HCAT"                 },
        { "name" : "SQOOP"                },
        { "name" : "OOZIE_SERVER"         },
        { "name" : "OOZIE_CLIENT"         },
        { "name" : "HIVE_SERVER"          },
        { "name" : "HIVE_METASTORE"       },
        { "name" : "HIVE_CLIENT"          },
        { "name" : "WEBHCAT_SERVER"       },
        { "name" : "TEZ_CLIENT"           },
        { "name" : "HUE_SERVER"           },
        { "name" : "MYSQL_SERVER"         }
      ],
      "cardinality" : "1"
    },
    {
      "name":"nimbus",
      "configurations" : [ { "stormsd" : { "nimbus.host" : "localhost", "storm.zookeeper.servers" : "localhost" }  } ],
      "components" : [
        { "name" : "SECONDARY_NAMENODE"   },
        { "name" : "ZOOKEEPER_SERVER"     },
        { "name" : "KAVETOOLBOXNODE"      },
        { "name" : "GANGLIA_MONITOR"      },
        { "name" : "NIMBUS_SD_MASTER"     },
        { "name" : "STORMSD_UI_SERVER"    },
        { "name" : "ZOOKEEPER_CLIENT"     }

      ],
      "cardinality" : "1"
    },
    {
      "name" : "task",
      "components" : [
        { "name" : "DATANODE"             },
        { "name" : "HDFS_CLIENT"          },
        { "name" : "NODEMANAGER"          },
        { "name" : "YARN_CLIENT"          },
        { "name" : "MAPREDUCE2_CLIENT"    },
        { "name" : "KAVETOOLBOXNODE"      },
        { "name" : "ZOOKEEPER_CLIENT"     }
      ],
      "cardinality" : "1+"
    },
    {
      "name" : "supervisor",
      "configurations" : [ { "stormsd" : { "nimbus.host" : "nimbus.kave.io", "storm.zookeeper.servers" : "nimbus.kave.io" }  } ],
      "components" : [
        { "name" : "GANGLIA_MONITOR"  },
        { "name" : "ZOOKEEPER_CLIENT" },
        { "name" : "SUPERVISOR_SD_SLAVE" }
      ],
      "cardinality" : "1+"
    }
  ],
  "Blueprints" : {
    "blueprint_name" : "everything",
    "stack_name" : "HDP",
    "stack_version" : "2.2.KAVE"
  }
}
